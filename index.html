<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>动态照片工具箱 Web</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/exif-js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>动态照片工具箱</h1>
            <p class="subtitle">Live Photo Tools Web</p>
        </header>

        <main>
            <div class="tools-container">
                <!-- 合成工具 -->
                <div class="tool-card" id="synthesize">
                    <h2>合成动态照片</h2>
                    <div class="tool-content">
                        <div class="os-select">
                            <label>选择系统:</label>
                            <select id="synOS">
                                <option value="MIUI">小米 MIUI/HyperOS</option>
                                <option value="ColorOS" disabled>OPPO ColorOS (开发中)</option>
                            </select>
                        </div>
                        <div class="file-inputs">
                            <div class="file-input">
                                <label>静态图片:</label>
                                <input type="file" id="staticImage" accept="image/*">
                            </div>
                            <div class="file-input">
                                <label>视频文件:</label>
                                <input type="file" id="videoFile" accept="video/*">
                            </div>
                        </div>
                        <button id="synthesizeBtn" class="action-btn">开始合成</button>
                    </div>
                </div>

                <!-- 拆分工具 -->
                <div class="tool-card" id="separate">
                    <h2>拆分动态照片</h2>
                    <div class="tool-content">
                        <div class="os-select">
                            <label>选择系统:</label>
                            <select id="sepOS">
                                <option value="MIUI">小米 MIUI/HyperOS</option>
                                <option value="ColorOS">OPPO ColorOS</option>
                            </select>
                        </div>
                        <div class="file-input">
                            <label>动态照片:</label>
                            <input type="file" id="livePhoto" accept="image/*">
                        </div>
                        <button id="separateBtn" class="action-btn">开始拆分</button>
                    </div>
                </div>

                <!-- 信息查看工具 -->
                <div class="tool-card" id="info">
                    <h2>查看照片信息</h2>
                    <div class="tool-content">
                        <div class="file-input">
                            <label>选择照片:</label>
                            <input type="file" id="infoPhoto" accept="image/*">
                        </div>
                        <div class="lang-select">
                            <label>显示语言:</label>
                            <select id="infoLang">
                                <option value="zh-cn">中文简体</option>
                                <option value="zh-tw">中文繁体</option>
                                <option value="en">English</option>
                            </select>
                        </div>
                        <button id="viewInfoBtn" class="action-btn">查看信息</button>
                    </div>
                </div>
            </div>

            <!-- 结果显示区域 -->
            <div class="result-container" id="resultArea">
                <div class="result-header">
                    <h3>处理结果</h3>
                    <button id="clearResult" class="clear-btn">清除</button>
                </div>
                <div class="result-content" id="resultContent"></div>
                <div class="download-buttons" id="downloadButtons" style="display: none;">
                    <button id="downloadImage" class="action-btn">下载图片</button>
                    <button id="downloadVideo" class="action-btn">下载视频</button>
                </div>
            </div>
        </main>

        <footer>
            <p>By Yule | <a href="https://github.com/YuleBest" target="_blank">GitHub</a></p>
        </footer>
    </div>

    <script src="js/main.js"></script>
    <script src="js/xiaomi.js"></script>
    <script src="js/oppo.js"></script>
    <script>
        window.onerror = function(message, source, lineno, colno, error) {
            console.error('全局错误:', {
                message: message,
                source: source,
                lineno: lineno,
                colno: colno,
                error: error
            });
            if (window.showResult) {
                window.showResult('发生错误: ' + message, true);
            }
            return false;
        };
    </script>
</body>
</html> 